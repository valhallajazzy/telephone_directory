# Телефонный справочник
![Screenshot]()

Данный справочник поддерживает следующий функции:
* Вывод постранично записей из справочника на экран 
* Добавление новой записи в справочник
* Возможность редактирования записей в справочнике
* Поиск записей по одной или нескольким характеристикам

База данных реализуется в текстовом файле формата .csv

## Подготовка и запуск скрипта

* В терминале, в корневой папке проекта создаем виртуальное окружение и устанавливаем зависимости:

```console
$ poetry install
```
* Активируем виртуальное окружение:

```console
$ poetry shell
```

* Из корневой директории проекта запускаем скрипт командой:

```console
$ python3 main.py
```
P.S. После выполнения (или невыполнения) задачи, программа заканчивает свою работу.  
Для выполнения новой задачи требуется заново запустить командой:
```console
$ python3 main.py
```
## Изменение пути хранения базы данных

* По умолчанию база данных хранится в директории проекта `database/phone_book_db.csv`.  
После добавления первой записи в справочник директория с файлом автоматическисоздается.

* Если вы хотите изменить путь хранения файла базы данных, то в корневой директории проекта  
нужно создать файл .env и обозначить переменную окружения `PATH_TO_FOLDER` - содержащую путь к файлу базы данных

![Screenshot]()

## Краткое описание структуры и функций

* Файлы:  
`main.py` - основной файл для запуска скрипта  
`view.py` - файл, содержащий функции которые отвеают за интерфейс с пользщователем  
`handlers.py` - файл, содержащий обработчики по вводимым и выводимым значениям.  
Например: валидность номера телефона, создание таблицы
`imports.py` - файл, отвечающий за взаимодействие с базой данных для получения информации
`export.py` - файл, отвечающий за изменение и добавление информации в базу данных
`settings.py` - файл с настройками (в данном случае для получения переменных окружения)

* Функции `view.py`:  
`main_interaction()` - вывод интерфейса по основному действию пользователя в со справочником  
`patch_information_interaction()` - вывод интерфейса по изменению информации пользователем в справочнике  
`post_information_interaction()` - вывод интерфейса по добавлению информации пользователем в справочнике  
`get_information_interaction()` - вывод интерфейса по получению информации пользователем в справочнике  

* Функции `handlers.py`:  
`check_valid_number()` - проверка на валидность вводимого личного номера телефона (RU)  
`check_valid_new_entry()` - проверка на валидность новой записи  
`check_valid_characteristics()` - проверка на валидность по значений по получению информации по характеристикам  
`get_table_views()` - создание визуальной таблицы из полученных значений из базы данных  
`check_availability_phone_in_db()` - проверка на наличие вводимого личного номера телефона в базе данных  
`check_valid_patch_entry` - проверка на валидность ввведенных значений на изменение записи в справочнике  

* Функции `imports.py`:
`get_entry_by_values()` - получение записей из базы данных по характеристикам
`get_count_pages()` - получение количества страниц в справочнике
`get_page()` - получение записей по номеру страницы

* Функции `export.py`:
`create_new_entry()` - создание новой записи в базе данных
`change_entry_data()` - изменение записи в базе данных

